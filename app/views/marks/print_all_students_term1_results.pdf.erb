<% @students.try(:each) do |std| %>
    <% @student = std %>
    <% @report_card = ReportCard.find_by(student_id: @student.id, grade_id: @class.id, batch_id: @batch.id) %>
    <% if @exam.present? %>
      <table class="table table-bordered col-md-12" style="font-weight: bold; font-size: 10px; padding-bottom: 0px !important; margin-top: 0px !important">
        <tr>
          <td>Name: <%= @student.fullname %></td>
          <td>ID: <%= @student.rollnumber %></td>
          <td>Father Name: <%= @student.parent.try(:name) %></td>
        </tr>
        <tr>
          <td>Batch: <%= @batch.name %></td>
          <td>Grade: <%= @class.full_name %></td>
          <td><%= @exam.name %></td>
        </tr>
      </table>
      <%= render partial: 'marks/quarter_result.html.erb', locals: {exam: @exam } %>
      <div class="page-break"></div>
      <h3>Exam Comments Details</h3>
      <%= render 'marks/exam_comments' %>
      <div class="page-break"></div>
    <% else %>
        <% @exams.each do |exam| %>
            <% setting = @settings.first %>
            <% if setting.present? %>
              <table class="table table-bordered col-md-12" style="font-weight: bold; font-size: 10px; padding-bottom: 0px !important; margin-top: 0px !important ">
                <tr>
                  <td>Name: <%= @student.fullname %></td>
                  <td>ID: <%= @student.rollnumber %></td>
                  <td>Father Name: <%= @student.parent.try(:name) %></td>
                </tr>
                <tr>
                  <td>Batch: <%= @batch.name %></td>
                  <td>Grade: <%= @class.full_name %></td>
                  <td><%= exam.name %></td>
                </tr>
              </table>
              <%= render partial: 'marks/term1_result.html.erb',locals: {exam: exam} %>
            <% end %>
        <% end %>
    <% end %>
<% end %>