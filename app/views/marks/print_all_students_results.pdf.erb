<% @class.students.try(:each) do |std| %>
    <% @student = std %>
    <% @report_card = ReportCard.find_by(student_id: @student.id, grade_id: @class.id, batch_id: @batch.id) %>
    <% if @exam.present? %>
      <table class="table table-bordered col-md-12" style="font-weight: bold;">
        <tr>
          <td>Name: <%= @student.fullname %></td>
          <td>ID: <%= @student.rollnumber %></td>
          <td>Father Name: <%= @student.parent.try(:name) %></td>
        </tr>
        <tr>
          <td>Batch: <%= @batch.name %></td>
          <td>Grade: <%= @class.full_name %></td>
          <td><%= @exam.name %></td>
        </tr>
      </table>
      <%= render partial: 'marks/quarter_result.html.erb', locals: {exam: @exam } %>
      <div class="page-break"></div>
    <% else %>
        <% @exams.each do |exam| %>
            <% setting = @settings.find_by_exam_id(exam.id) %>
            <% if setting.present? %>
              <table class="table table-bordered col-md-12" style="font-weight: bold;">
                <tr>
                  <td>Name: <%= @student.fullname %></td>
                  <td>ID: <%= @student.rollnumber %></td>
                  <td>Father Name: <%= @student.parent.try(:name) %></td>
                </tr>
                <tr>
                  <td>Batch: <%= @batch.name %></td>
                  <td>Grade: <%= @class.full_name %></td>
                  <td><%= exam.name %></td>
                </tr>
              </table>
              <%= render partial: 'marks/quarter_result.html.erb', locals: {exam: exam } %>
              <div class="page-break"></div>
            <% end %>
        <% end %>
    <% end %>
<% end %>