<%= form_for @student do |std| %>

<div class="col-md-3">
  <h4>
    <label>Student ID</label>
    <span><u><%= @student.rollnumber %></u></span>
  </h4>
</div>

<div class="col-md-3  pull-right">
  <label>Quarter</label>
  <%= std.text_field :eyeside,class: "form-control", style: 'width: 100%', disabled: true %>
</div>

<div class="col-md-3 pull-right">
  <label>Date of Joining</label>
  <%= std.text_field :created_at, class: 'form-control datepicker','data-date-format' => "yyyy-mm-dd", disabled: true %>

</div>

<br>
<br>
<br>
  <div class="abc form-holder">
        <div class="row">
          <fieldset class="sss well well-lg">
            <legend class="lll">Personal Information</legend>
              <div class="column col-xs-12 col-sm-3">
                <div class="form-group">
                    <% name = @student.fullname.split(' ') %>
                    <label for="exampleInputEmail1">First Name</label>
                    <%= text_field_tag :name1 ,name[0]? name[0] : '', :style => 'height:34px;width: 100%',  class: 'form-control restrict-space', autofocus: true %>
                    <%= std.hidden_field :rollnumber, value: @student_no %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-3">
                <div class="form-group">
                    <label for="exampleInputEmail1">Second Name</label>
                    <%= text_field_tag :name2 ,name[1]? name[1] : '', :style => 'height:34px;width: 100%',  class: 'form-control restrict-space', autofocus: true %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-3">
                <div class="form-group">
                    <label for="exampleInputEmail1">Third Name</label>
                    <%= text_field_tag :name3 ,name[2]? name[2] : '', :style => 'height:34px;width: 100%',  class: 'form-control restrict-space', autofocus: true %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-3">
                <div class="form-group">
                    <label for="exampleInputEmail1">Forth Name</label>
                    <%= text_field_tag :name4 ,name[3]? name[3] : '',:style => 'height:34px;width: 100%',  class: 'form-control restrict-space', autofocus: true %>
                </div>
              </div>

              <% arabic_name = @student.arabicname.split(' ') %>
              <div class="column col-xs-12 col-sm-3">
                <div class="form-group">
                    <label for="exampleInputEmail1">Arabic First Name</label>
                    <%= text_field_tag :aname1 ,arabic_name[0]? arabic_name[0] : '', :style => 'height:34px;width: 100%',  class: 'form-control', autofocus: true %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-3">
                <div class="form-group">
                    <label for="exampleInputEmail1">Arabic Second Name</label>
                    <%= text_field_tag :aname2 ,arabic_name[1]? arabic_name[1] : '', :style => 'height:34px;width: 100%',  class: 'form-control', autofocus: true %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-3">
                <div class="form-group">
                    <label for="exampleInputEmail1">Arabic Third Name</label>
                    <%= text_field_tag :aname3 ,arabic_name[2]? arabic_name[2] : '', :style => 'height:34px;width: 100%',  class: 'form-control', autofocus: true %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-3">
                <div class="form-group">
                    <label for="exampleInputEmail1">Arabic Forth Name</label>
                    <%= text_field_tag :aname4 ,arabic_name[3]? arabic_name[3] : '',:style => 'height:34px;width: 100%',  class: 'form-control', autofocus: true %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-2">
                <div class="form-group">
                <label for="exampleInputEmail1">Iqama Number</label>
                  <%= std.text_field :iqamaNumber , :style => 'height:34px;width: 100%',  class: 'form-control numeric', autofocus: true, required: true, maxlength:"10", minlength: "10" %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-2">
                <div class="form-group">
                  <label for="exampleInputEmail1">Iqama Expiry</label>
                  <%= std.text_field :iqamaExpiry , :style => 'height:34px;width: 100%',  class: 'form-control hijrical', required: true %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-2">
                <div class="form-group">
                    <label for="exampleInputEmail1">Gender</label>
                    <%= std.select :gender, options_for_select([ 'MALE', 'FEMALE'], std.object.gender),{}, {class: "form-control", style: 'width: 100%'} %>
                </div>
              </div>
              <% if (defined?(first_time)).nil? %>
                <div class="column col-xs-12 col-sm-2">
                  <div class="form-group">
                  <label for="exampleInputEmail1">Passport Number</label>
                    <%= std.text_field :passport , :style => 'height:34px;width: 100%',  class: 'form-control', autofocus: true %>
                  </div>
                </div>
                <div class="column col-xs-12 col-sm-2">
                  <div class="form-group">
                      <label for="exampleInputEmail1">Grade</label>
                      <%= std.collection_select :grade_id, Grade.where(name: @student.grade.name).order(:section), :id , :full_name,{},{:style => 'height:34px;width: 100%',  class: 'form-control', disabled: current_user.role.name == 'Parent' ? true : false} %>
                  </div>
                </div>
                <div class="column col-xs-12 col-sm-2">
                  <div class="form-group">
                      <label for="exampleInputPassword1">Date of Birth</label>
                      <%= std.text_field :dob , :style => 'height:34px;width: 100%', class: 'form-control datepicker' %>
                  </div>
                </div>
                <div class="column col-xs-12 col-sm-2">
                  <div class="form-group">
                      <label for="exampleInputPassword1">Place of Birth</label>
                      <%= std.country_select :birth_place ,{selected: std.object.birth_place || "SA"}, {:style => 'height:34px;width: 100%',  class: 'form-control'} %>
                  </div>
                </div>

                <div class="column col-xs-12 col-sm-2">
                  <div class="form-group">
                      <label for="exampleInputEmail1">Nationality</label>
                      <%= std.country_select :nationality ,{selected: std.object.nationality || "SA"}, {:style => 'height:34px;width: 100%',  class: 'form-control',} %>
                  </div>
                </div>
                <div class="column col-xs-12 col-sm-2">
                  <div class="form-group">
                      <label for="exampleInputEmail1">Language</label>
                      <%= std.select :language, options_for_select(%w[Arabic English Urdu French Spanish Dutch], std.object.language),{}, {class: "form-control", style:"width: 100%"} %>
                  </div>
                </div>
                <div class="column col-xs-12 col-sm-2">
                  <div class="form-group">
                      <label for="exampleInputPassword1">Religion</label>
                      <%= std.select :religion, options_for_select(%w[Islam Chritianity Budhism Hinduism Jew], std.object.religion),{}, {class: "form-control", style:"width: 100%"} %>
                    </div>
                </div>
                <div class="column col-xs-12 col-sm-2">
                  <div class="form-group" style="margin-top: 21%">
                    <%= std.file_field :image %>
                  </div>
                </div>
              <%end %>
          </fieldset>
          <fieldset class="sss well well-lg">
            <legend class="lll">Contact Information</legend>
            <% if (defined?(first_time)).nil? %>

              <div class="column col-xs-12 col-sm-6">
                <div class="form-group">
                    <label for="exampleInputEmail1">Address</label>
                    <%= std.text_field :address , :style => 'height:34px;width: 100%',  class: 'form-control' %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-6">
                <div class="form-group">
                    <label for="exampleInputPassword1">Address 2</label>
                    <%= std.text_field :address , :style => 'height:34px;width: 100%',  class: 'form-control' %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-2">
                <div class="form-group">
                    <label for="exampleInputEmail1">City</label>
                    <%= std.text_field :city, :style => 'height:34px;width: 100%',  class: 'form-control', required: true %>
                </div>
              </div>

              <div class="column col-xs-12 col-sm-2">
                <div class="form-group">
                    <label for="exampleInputEmail1">Country</label>
                      <%= std.country_select :country ,{selected: "SA"}, {:style => 'height:34px;width: 100%',  class: 'form-control',}, required: true %>
                  </div>
              </div>

              <div class="column col-xs-12 col-sm-2">
                <div class="form-group">
                      <label for="exampleInputPassword1">Phone Number</label>
                      <%= std.text_field :phone, :style => 'height:34px;width: 100%',  class: 'form-control', required: true %>
                </div>
              </div>
            <% end %>
          <div class="column col-xs-12 col-sm-2">
            <div class="form-group">
              <label for="exampleInputPassword1" style="color: red;">Mobile(for notifications)</label>
                <%= std.text_field :mobile, :style => 'height:34px;width: 100%',  class: 'form-control' %>
            </div>
          </div>

          <div class="column col-xs-12 col-sm-3">
            <div class="form-group">
              <label for="exampleInputEmail1" style="color:red;">Sec. Email(for notifications)</label>
                <%= std.email_field :secondary_email , :id => 'email_field' , :style => 'height:34px;width: 100%', class: 'form-control' %>
              <div class = "hide" id= "error_div">
                <span style = "color:red;" id="error_text">  </span>
              </div>
            </div>
          </div>
        </fieldset>
        <% if (defined?(first_time)).nil? %>
          <fieldset class="sss well well-lg">
            <legend class="lll">Medical Information</legend>
            <div class="column col-xs-12 col-sm-3">
              <div class="form-group">
                  <label for="exampleInputEmail1">Current Weight</label>
                  <%= std.text_field :weight,id: 'mobile' , :style => 'height:34px;width: 100%',  class: 'form-control' %>
              </div>
            </div>
            <div class="column col-xs-12 col-sm-3">
              <div class="form-group">
                  <label for="exampleInputEmail1">Current Height</label>
                  <%= std.text_field :height , :style => 'height:34px;width: 100%',  class: 'form-control' %>
              </div>
            </div>

            <div class="column col-xs-12 col-sm-3">
              <div class="form-group">
                  <label for="exampleInputEmail1">Blood Group</label>
                  <%= std.select :blood, options_for_select(%w[Unknown A+ A- B+ B- O+ O- AB+ AB-], std.object.blood),{}, {class: "form-control", style:"width: 100%"} %>
              </div>
            </div>
            <div class="column col-xs-12 col-sm-3">
              <div class="form-group">
                  <label for="exampleInputEmail1">Disability</label>
                  <%= std.text_field :disability , :style => 'height:34px;width: 100%',  class: 'form-control' %>
              </div>
            </div>
            <div class="column col-xs-12 col-sm-12">
              <div class="form-group">
                  <label for="exampleInputEmail1">Special Needs</label>
                  <%= std.text_field :specialneed , :style => 'height:34px;width: 100%',  class: 'form-control' %>
              </div>
            </div>
          </fieldset>

          <fieldset class="sss well well-lg">
              <legend class="lll">Previous details</legend>
              <div class="column col-xs-12 col-sm-12">
                <div class="form-group">
                    <label for="exampleInputEmail1">Previous Institute</label>
                    <%= std.text_field :previousInstitute , :style => 'height:34px;width: 100%',  class: 'form-control' %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-4">
                <div class="form-group">
                    <label for="exampleInputEmail1">Passing Year</label>
                    <%= std.text_field :year  , :style => 'height:34px;width: 100%',  class: 'form-control datepicker' %>
                </div>
              </div>

              <div class="column col-xs-12 col-sm-4">
                <div class="form-group">
                    <label for="exampleInputEmail1">Total Marks</label>
                    <%= std.text_field :totalMarks, :style => 'height:34px;width: 100%',  class: 'form-control' %>
                </div>
              </div>
              <div class="column col-xs-12 col-sm-4">
                <div class="form-group">
                    <label for="exampleInputEmail1">Obtain Marks</label>
                    <%= std.text_field :obtainedMarks , :style => 'height:34px;width: 100%',  class: 'form-control' %>
                </div>
              </div>
            </fieldset>
          <% end %>
        <% if @student.emergencies.any? %>
          <%= std.fields_for @student.emergency do |b| %>
            <fieldset class="sss well well-lg">
              <legend class="lll">Emergency Contact</legend>
              <div class="column col-xs-12 col-md-12">
                <div class="form-group">
                  <label for="exampleInputEmail1">Name</label>
                  <%= b.text_field :name , :style => 'height:34px;width: 100%',  class: 'form-control', autofocus: true %>


                 <%= b.hidden_field :student_id, value: @student.id %>
                </div>
              </div>

              <div class="column col-xs-12 col-md-4">
                <div class="form-group">
                  <label for="exampleInputEmail1">Mobile</label>
                  <%= b.text_field :mobile , :style => 'height:34px;width: 100%',  class: 'form-control', autofocus: true %>
                </div>
              </div>

              <div class="column col-xs-12 col-md-4">
                <div class="form-group">
                  <label for="exampleInputEmail1">Phone</label>
                  <%= b.text_field :phone , :style => 'height:34px;width: 100%',  class: 'form-control', autofocus: true %>
                </div>
              </div>

              <div class="column col-xs-12 col-md-4">
                <div class="form-group">
                  <label for="exampleInputEmail1">E-mail Address</label>
                  <%= b.text_field :email , :style => 'height:34px;width: 100%',  class: 'form-control', autofocus: true %>
                </div>
              </div>
            </fieldset>
          <% end %>
        <% end %>

        </div>
      </div>
    </div>
  <div class="form-group">
    <%= std.submit @edit ? "Update" : "Edit Parent Detail", :class => 'btn btn-block btn-success form-control',:style=>'width:24%;' %>
  </div>
<% end %>

<script type="text/javascript">
//   $("#mobile").datetimepicker({
//   timepicker:false,
//   format:'Y.m.d'
// });


$('.hijrical').datetimepicker({
  lang:'ar',
  timepicker:false,
  format:'d.m.Y'
});
</script>