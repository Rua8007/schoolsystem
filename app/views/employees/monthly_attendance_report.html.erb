<div class="bg-light lter b-b wrapper-md">
  <h1 class="m-n font-thin h3 text-center">Employees Attendance Report
  </h1>
</div>

<div class="wrapper-md">
	<div class="panel panel-primary">
	  <div class="panel-heading">
	    <h3 class="panel-title">Report</h3>
	  </div>
	  <div class="panel-body">
	  	<div class="row">
        <div class='col-sm-6'>

       	  <%= form_tag("") do %>

	          <div class="form-group">
	            <div class='input-group date' id='datetimepicker1' class="datepicker1">
	              <input type='text' id="month_year" data-date-format="mm-yyyy" class="form-control" />
	              <span class="input-group-addon">
	                <span class="glyphicon glyphicon-calendar"></span>
	              </span>
	            </div>
	          </div>

	          <div class="form-group">
              <label>Department</label>
              <!-- <p>Some text in the modal.</p> -->
              <%= select_tag :department, options_from_collection_for_select(@departments,"id", "name"),
                  prompt: "Select Department", class: "form-control", required: true %>
            </div>

            <%= submit_tag "Get Report", class: 'btn btn-small btn-default report-form' %>
          <% end %>


        </div>
      </div>
	    	<!-- <div class="datepicker">
	    		
	    	</div> -->

	    <!-- 	<div class=" datepicker input-append date" id="dpMonths" data-date="102/2012" data-date-format="mm/yyyy" data-date-viewmode="years" data-date-minviewmode="months">
				<input class="span2" size="16" type="text" value="02/2012" readonly="">
				<span class="add-on"><i class="icon-calendar"></i></span>
			  </div> -->
	  </div>
	</div>

	<div id="result">
		
	</div>
</div>


<script type="text/javascript">

	function fetch_report(category,vendor) {
    $.ajax({
      type: "GET",
      url: "/vendors/add_existing_vendor_file",
      dataType: "html",
      data: {
      	'brand' : "<%= @brand %>",
        'category' : category,
        'vendor' : vendor
      },
      async: true,
      success: function(response){
        $("#result").html(response);
       //  $.growl({
      	// 	message: 'Vendor Added Successfully.' 
	      // },{
	      //   type: 'success'
	      // });
      }
    });
  }
	
	$( document ).ready(function() {
		$('#datetimepicker1').datepicker({
			format: "mm-yyyy",
	    viewMode: "months", 
	    minViewMode: "months"
		});


		$(document).on("click", ".report-form", function(e) {
	 		e.preventDefault();

	    var department = $("#department").val();
	    var month_year = $( "#month_year" ).val();
	    alert(""+department+"  "+month_year);
	    // fetch_report(department,month_year);
	  });


	});
	

</script>