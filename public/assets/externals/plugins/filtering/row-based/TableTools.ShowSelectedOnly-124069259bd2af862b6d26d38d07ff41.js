!function(e,t,l,n){l.fn.dataTable.SelectedLengthMenu=function(e){if(e.oScroll.bInfinite)return null;var n,a,i='name="'+e.sTableId+'_length"',s='<select size="1" '+i+">",o=e.aLengthMenu;if(2==o.length&&"object"==typeof o[0]&&"object"==typeof o[1])for(n=0,a=o[0].length;a>n;n++)s+='<option value="'+o[0][n]+'">'+o[1][n]+"</option>";else for(n=0,a=o.length;a>n;n++)s+='<option value="'+o[n]+'">'+o[n]+"</option>";s+="</select>";var r=e.oLanguage.oFilterSelectedOptions;r||(r={AllText:"All Items",SelectedText:"Selected Items"});var c='<select name="'+e.sTableId+'_selectedFilter">';"object"==typeof r?(c+='<option value="All">'+r.AllText+"</option>",c+='<option value="Selected">'+r.SelectedText+"</option>"):(c+='<option value="All">'+r[0]+"</option>",c+='<option value="Selected">'+r[1]+"</option>"),c+="</select>";var d=t.createElement("div");e.aanFeatures.l||(d.id=e.sTableId+"_length"),d.className=e.oClasses.sLength;var p=e.oLanguage.sLengthMenu;"Show _MENU_ entries"==p&&(p="Show _MENU_ of _SELECTEDMENU_"),d.innerHTML="<span>"+p.replace("_MENU_",s).replace("_SELECTEDMENU_",c)+"</span>";var u=l('select[name="'+e.sTableId+'_length"]',d);0==u.length&&(u=l("select :eq(0)",d)),u.find('option[value="'+e._iDisplayLength+'"]',d).attr("selected",!0),u.bind("change.DT",function(t){var i=l(this).val(),s=e.aanFeatures.S;for(n=0,a=s.length;a>n;n++)s[n]!=this.parentNode&&l("select",s[n]).val(i);e._iDisplayLength=parseInt(i,10),e.oApi._fnCalculateEnd(e),e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,e._iDisplayStart<0&&(e._iDisplayStart=0)),-1==e._iDisplayLength&&(e._iDisplayStart=0),e.oApi._fnDraw(e)});var f=l('select[name="'+e.sTableId+'_selectedFilter"]',d);return 0==f.length&&(f=l("select :eq(1)",d)),f.find('option[value="'+e._sFilterSelected+'"]',d).attr("selected",!0),f.on("change",function(){e._sFilterSelected=l(this).val(),l("#"+e.sTableId).dataTable().fnDraw()}),l("select",d).attr("aria-controls",e.sTableId),d},l.fn.dataTableExt.afnFiltering.push(function(e,t,n){var a=l('select[name="'+e.sTableId+'_selectedFilter"]');if(0==a.length)return!0;if("All"==a.val())return!0;var i=l("#"+e.sTableId).dataTable(),s=i.fnGetNodes(n),o=TableTools.fnGetInstance(e.sTableId),r=o.fnIsSelected(s);return r}),l.fn.dataTableExt.aoFeatures.push({fnInit:function(e){return new l.fn.dataTable.SelectedLengthMenu(e)},cFeature:"O",sFeature:"SelectedLengthMenu"})}(window,document,jQuery);